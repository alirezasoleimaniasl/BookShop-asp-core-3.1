@model BookShop.Models.ViewModels.ReadAllBook
@inject BookShop.Classes.ConvertDate convertDate
@{
    ViewData["Title"] = "Details";
    Layout = "~/Views/Shared/_Admin.cshtml";
}

<div class="row">
    <div class="col-md-12">
        <div class="card">
            <div class="card-header bg-light">
                لیست کتاب ها
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-3">
                        @if(Model.Image != null)
                        {
                            <img src="/Admin/Books/ViewImage/@Model.BookID" width="250px" />
                        }
                        else
                        {
                            <img src="~/images/Book.png" width="250px" />
                        }
                        
                    </div>
                    <div class="col-md-9">
                        <div class="row">
                            <div class="col-md-6">
                                <p>عنوان کتاب: @Model.Title</p>
                                <p>شابک: @Model.ISBN</p>
                                <p>سال انتشار: @Model.PublishYear</p>
                                <p>قیمت: @Model.Price</p>
                                <p>موجودی: @Model.Stock</p>
                                <p>تعداد صفحات: @Model.NumOfPages</p>
                                <p>زبان کتاب: @Model.LanguageName</p>
                                
                            </div>
                            <div class="col-md-6">
                                <p>ناشر: @Model.PublisherName</p>
                                <p>
                                    نویسندگان: @Model.Authors
                                    @*@{string Authors = "";}
                                    @{ var AuthorList = ViewBag.Authors as List<BookShop.Models.Author>;}
                                    @if (AuthorList.Count() != 0)
                                    {
                                        @foreach (var item in AuthorList)
                                        {
                                            if (Authors != "")
                                            {
                                                Authors = Authors + "-" + item.FirstName + " " + item.LastName;
                                            }
                                            else
                                            {
                                                Authors = item.FirstName + " " + item.LastName;
                                            }
                                        }
                                    }
                                    else
                                    {
                                        <span>-</span>
                                    }

                                    @Authors*@
                                </p>
                                <p>
                                    مترجمان: @Model.Translators
                                    @*@{ string Translators = "";}
                                    @{ var TranslatorList = ViewBag.Translators as List<BookShop.Models.Translator>;}
                                    @if (TranslatorList.Count() != 0)
                                    {
                                        @foreach (var item in TranslatorList)
                                        {
                                            if (Translators != "")
                                            {
                                                Translators = Translators + "-" + item.Name + " " + item.Family;
                                            }
                                            else
                                            {
                                                Translators = item.Name + " " + item.Family;
                                            }
                                        }
                                    }
                                    else
                                    {
                                        <span>-</span>
                                    }
                                    @Translators*@
                                </p>
                                <p>
                                    دسته بندی: @Model.Categories
                                    @*@{ string Categories = "";}
                                    @{ var CategoryList = ViewBag.Categories as List<BookShop.Models.Category>;}
                                    @if (CategoryList.Count() != 0)
                                    {
                                        @foreach (var item in CategoryList)
                                        {
                                            if (Categories != "")
                                            {
                                                Categories = Categories + "-" + item.CategoryName;
                                            }
                                            else
                                            {
                                                Categories = item.CategoryName;
                                            }
                                        }
                                    }
                                    else
                                    {
                                        <span>-</span>
                                    }
                                    @Categories*@
                                </p>
                                <p>
                                    تاریخ انتشار:
                                    @if (Model.PublishDate != null)
                                    {
                                        @convertDate.ConvertMiladiToShamsi((DateTime)Model.PublishDate, "yyyy/MM/dd")
                                    }
                                    else
                                    {
                                        <span>-</span>
                                    }
                                </p>
                                <p>
                                    وضعیت انتشار:
                                    @if (Model.IsPublish == true)
                                    {
                                        <span>منتشر شده</span>
                                    }
                                    else
                                    {
                                        <span>منتشر نشده</span>
                                    }
                                </p>
                                <p>وزن کتاب: @Model.Weight</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <hr/>
                        <p>خلاصه کتاب: @Model.Summary</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

